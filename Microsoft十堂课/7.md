Lesson 7: What is the AI Agent Planning Design Pattern?
what is the planning design pattern how does it help AI agents complete task and how can we use it with the agents that we build we're going to answer these questions in the seventh lesson of the AI agents for beginners course in this course we take you from concept to code covering the fundamentals of building AI agents this is a short video that follows along with the written lesson including translations and code samples that you can find at the link above and below the video but let's get started talking about the planning design pattern if this is the first time joining us welcome but if you've watched other videos you might have heard me talk about how a feature of agents is is to take a task and make a plan to complete it the planning design pattern makes that more clear by having an AI agent list the subtasks that make up a more complex task for example generating a travel plan for a 3-day vacation somewhere warm can be broken down into subtasks like booking flights hotels transportation and personal activities and while we have a focus on using one agent to create a plan where this really has impact is working with multiple agents in this case not only is the plan divided into multiple subtasks those subtasks are then completed by a separate agent or another process to get this to work really well we can also structure the output of the agent either using features of the LLM itself or through other tools this is good because then another agent or system can process and parse that information we can also add validation to the response so we know we have all the information to continue working with the steps of our agentic system well I hope you processed all that information just now but it might be easier to see it applied so let's head over to our code editor and see this in action okay so here is our code now code sample and our code editor looking at the chapter 7 example which again can be found in the GitHub repo at the link above and below the video in this case I want to first start pointing out that we're going to import this pyantic pattern uh sorry package which is basically allowing us to apply some rules or validation uh of that data in terms of the structure that we will get back and this is going to be super important again when we're using this the responses from the agent uh to either call other agents downstream or other systems so we've imported that and then what this uh package allows us to do is a couple of things so first we can define a subtask um basically structure where we have the assigned agent which is a string and it's going to have the specific agent assigned to handle the task and then the task detail so a description of what the actual task is then we're going to make a kind of model above that which is the travel plan itself so there's going to be a main task which is going to be probably you know the overall travel request of the user and then a list of subtask and again the subtask going to have an assigned agent and the task details so should this should be a very structured response from the agent uh again then we can take that structured response apply some validation so we make sure that we kind of have all of the information that we need and then we can pass that on to other agents or other systems in this case we're also going to include in the agent instructions the available agents that that it has so flight booking hotel car rental activities destination info and a default agent for general request all right and we'll have some brief descriptions of what those agents do so we have we'll come in here and we'll see the user's input which is to create a travel pen for family of two kids from Singapore to Melbourne so after that u we can see the response that we get back which is uh a validated travel plan again because we're using pant we can do some of that validation and in this nice sort of JSON format the main task the assigned task flight booking so this is going to book roundtrip tickets uh this is going to then look at the hotel booking so assign agents to the hotel booking and I think this shows also some of the powers of using AI agents versus a simple booking system or an API I call is I also add these details like finding booking a familyfriendly accommodation or familyfriendly activities and this is again because the power of large language models to understand natural language and you can think of that how powerful this is going to be if we want to then relay this to descriptions of hotels that we have in a database and we make sure that then this is a family-friendly hotel or maybe we have a filter within our database or other tools where we can take this description of this task detail and then use that filter to find specific hotels that will match this travel plan so that is applying the planning design pattern and showing how we can use large language models and AI agents to have a defined plan have defined data structure and then use that downstream for making other calls so that's the end of chapter 7 or lesson seven and we will see you in the next [Music] lesson what is the multi- aent design 
