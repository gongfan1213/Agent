Lesson 9 How can AI agents improve?
9 what is metacognition how does it apply to AI agents improving over time and how can we use it to our advantage when building AI agents we're going to answer these questions in the ninth lesson of the AI agents for beginners course in this course we take you from concept to code covering the fundamentals of building AI agents in this short video that follows along with the written lesson including translations and code samples that you can find at the link above and below this video but let's start by defining what metacognition is which is thinking about thinking but how does that apply to AI agents so AI agents can use data and analysis to identify errors and make improvements in its plannings and responses this enables improvements over time which makes them more unique from a basic application using an LLM or simply making API calls to different services while this is a growing field of research and but an important one because it allows agentic systems to be more transparent on its reasoning and decision-m more making it more adaptable to changing environments and improving the accuracy of interpreting the data for of their environments so but to put this in real terms let's say we have a booking flights and we ask an agent to book the best flight
And best can be defined by our preferences such as being cheap or convenient or just with our favorite airline where metacognition comes into play is enabling the agent to reflect on this decision of how it's defining the best flight as well as including preferences of the customer going forward as a pattern for making decisions in the future
this also requires designing the system in a way to gather that feedback store it and retrieve it later on for future interactions and as purposes change an AI agent should be able to adapt to these changes and be able to communicate why it has changed it and its setting based on that and while your preference might be just to listen to me talk about this topic I know there are some of people out there who also prefer to see this concept in code so let's head over to our code editor and see how this works okay so this is now as a chapter 9 code sample again this code sample is available at the GitHub repo at the top and at the bottom of this video in this example we want to kind of sort of mimic what some of the qualities around meta uh metacognition is and in this case uh we're going to kind of focus first on the agent instructions that we defined so we have some you know function calls that will kind of come into play here but we also want to uh have the agent maintain basically a customer preferences object so this is to mimic uh it kind of tracking again customer preferences over time in in a production or in a a larger application maybe this object is stored somewhere else and the agent is actually reading that but we're going to just kind of have it kind of maintain this in memory or in context of the conversation that's going on in this case we're going to make sure that we track the preferred flight times of the user and we want to make sure also that before it suggests anything or ask a user for the preferred time that it goes back to this object it reflects essentially on that information or interactions in the past so again makes it a bit more of a streamlined experience for uh using this agent uh versus you know if you're booking something you know on a UI and you have to kind of continue to select these things so in this case we're going to have user inputs here basically say book me a flight to Barcelona uh we're going to prefer later flight and this should mimic a conversation with an AI agent so if we run this code you can see some of the examples uh so first is you booking a flight to Barcelona and naturally the travel agent is going to ask you know when is your preferred time to uh for flights uh they're going to the user is going to come back and say prefer later flights and this is going to make a function call to get those flight times uh and again since it has again one of the you know powers of using large language models is being able to interpret natural language so it's going to say you know out of all these flight times I just got returned uh which one's the later flight time and in this case it's the 10:45 p.m flight so this is going to cut different to where what we might have been experiencing just using a regular flight booking application uh then the user going to say you know this is just too late i want the earliest flight so it's going to make the call back again just to get the flights that are available it doesn't need to do any sort of uh you know calculations on the the the time differences or whatever the available times are the differences between what was suggested first because you can also now pick in the earliest flight which is 8:30 a.m and just some added benefits here um we have uh you know a request for more activities and then the user is sort of stressed out about the amount of time uh that they have so again it's kind of having um in context here that the user is actually asking that they want to leave uh after the last flight so again we know the the agent has uh acknowledged that the last flight is 10:45 p.m so keeping that context and that sort of cognition in terms of okay well I know this is the last flight so I need to build an agenda that's going to fit in within the first flight to Barcelona and the first next flight out essentially uh this will then will go in uh and kind of make a defined structure of uh a flight plan because the customer is stressed out they won't have enough time and again operating within those confines so that's kind of some bits of metacognition here in terms of just operating with the context of the conversation let's say we want to sort of mimic making a new conversation but we're still going to use the chat history from last time uh to make sure that the agent knows some of our preferences as a a customer in terms of booking flight so in this scenario we're just going to say "Book me a flight to Paris." So in this case what we'll go into is the book me to Paris it's going to make the flight call function call again to get the flight times and then based on your since based on your previous preferences for later flights uh I'm going to go ahead and suggest the later flight time which is 7:15 p.m and as as kind of good in instructions we all make sure you know would you book this flight or would you like to look at alternative times so this again shows you some hints of uh some of the benefits of metacognition uh in terms of you know using the agent to take preferences or long-term memory uh and kind of apply that into an improved customer or user experience over time um this is just scratching the surface of metacognition i do encourage you to look at the written chapter as well as it shows you a little bit more of some of the samples and benefits of metacognition but that's to close chapter nine and we'll see you in
chapter [Music] 10 how can we deploy AI agents to 
