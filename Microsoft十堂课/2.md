Lesson 2 Which agent framework to use


what are agentic frameworks why do we use them and how to decide which one to choose we're going to answer these questions in the second lesson of the AI agents for beginners course in this course we take you from concept to code covering the fundamentals of building AI agents and in this short video actually follows along with the written lesson including translations and a code sample which you can find at the link above and below this video so let's start by defining what agentic frameworks are and these are tools that enable anyone building AI agents to have a bit more control over task management because as mentioned in the first lesson agents are focused on completing tasks and we'll talk a bit more about this in our multi- aent chapter but for some use cases we need multiple agents working on a set of tasks and agentic frameworks help us to decide what agent will complete that task also contextual understanding see agents need to have information about the context and environment state if an agent for example is to book a hotel room it needs to know that there are hotel rooms available to book so Agentic frameworks allow us to better manage this context also agent collaborations See how these agents complete the task together is up to us to define and agentic frameworks allow us to do that more effectively they create spaces and use protocols to allow agents to communicate between each other these frameworks also come with tools or connections to allow us to observe and evaluate our agents performance so which one should you choose there are many out there and in this course we have focused on three different agentic frameworks and services so you can get a better understanding how they work first is the Azure AI agent service this currently is only designed to be a sing used for single agents both through code and the UI and it integrates really well with existing Azure services and capabilities you might be already using we also off use two different agentic frameworks semantic kernel and autogen both these frameworks can utilize agents built with the Azure ai agent service as well as other services like GitHub models which we have code samples for throughout this lesson semantic kernel on one hand is an enterprise focused framework and the team behind it are really focused on a developer experience for teams building AI agents in production it offers support for C Java and Python and a variety of different connectors to other model services we also have Autogen which was born teams in Microsoft research has a strong focus on taking the latest in aentic research and enabling other researchers and developers to test and experiment with those ideas in code and as always the best advice is to start small working with one agent through something like the Azure AI agent service and then when you have an agents working you can combine them by using one of the frameworks that has multi- aent support like semantic kernel or autogen depending if you're building for production or just exploring the latest in aentic research with autogen we have more information on how to decide which tool is right for you in the written lesson and while listening to someone talk about this is helpful thanks for watching by the way getting hands-on is the best way to get a better understanding of how these tools work so let's head over to our code editor and to do so so now we're here back at our code editor and we have three different samples one using semantic kernel autogen and the Azure AI agent service as mentioned you can find this code at the link above and below the video to run it yourself we'll start with the semantic kernel example this is something we already kind of ran in the last lesson where you we be be able to define different plugins in this case we have this destinations plugin which takes a list of different destinations and allows a random destination to be returned whenever a user is asking for a planning of a trip and again we're defining that agent using a chat chat completion agent the kernel so everything that we've been adding so all the services and tools uh we have some instructions and then any other settings additional settings that we need and basically we're going down here we can see the uh that the user is planning a day we can also see that it's actually making a call to that function so get random destination uh and then getting the result which is New York and then the agent is going ahead and then taking that information from that function and making a plan for New York sounds like a lovely trip on the autogen side a similar sort of setup uh in this case we're going to uh create a client which is a the check completion of the model behind it we can also do some different settings whether it's like a JSON output which is really important when we're talking about doing different working with different functions on different parts of our system and then we can define the agent in a way where you we have the name of the agent the model client that we just defined we don't have any tools here but this is where Autogen allows us to define any custom tools and then lastly the system message which is similar to Samantha Colonel's agent instructions in this case we're just going to ask the for a great sunny vacation uh so giving the agent a little bit more details here on you know the type of vacation that we want to have uh and then we see uh you know the interaction the agent comes back or the assistant comes back with the plan and it's you know 7-day trip to Maui sounds lovely so and lastly we're going to look at the Azure AI agent service so again this is your first time seeing this service we have a setup video uh that will actually show you how to set up these connection strings cuz this is how we're using this agent uh through the project that we've made in the Azure AI Foundry and with the azure AI agent service it's a little different setup in this case we're going to create an agent kind of at the runtime in terms of interactions with the user we're going to create a thread and a thread basically is the setup between uh the messages that are being collected between the user and the agent and in this case we're going to start with the user's interaction asking for a bar chart of you know with the different amount of travelers and destinations and the way that we're kind of also focusing on this as a uh in terms of the ability for the agent to use that is that we have different tools built into the Azure AI agent service and in this case we have the code interpreter tool so this allows the agent to generate some code and in this case it's going to generate some Python code uh to actually generate bar chart so we we see this thread and then we have this run status so this is actually the uh interactions between once the agent start running the different tools and then we can see that it's actually created an image um and then we can even display that image right below here with a bar chart uh with the amount of the destination and the amount of travelers so go in look at the code samples play around with different settings and like I said we're going to be running different samples throughout this course so you can really see the differences between the different services and frameworks that we're offering in this course but we'll see you in the next lesson 

### 翻译
#### 第2课：使用哪种代理框架
什么是代理框架？我们为什么要使用它们？以及如何决定选择哪一个呢？我们将在人工智能代理初学者课程的第二课中回答这些问题。在这门课程中，我们会带你从概念到代码，涵盖构建人工智能代理的基础知识。这个短视频实际上是配合书面课程的，包括翻译以及你可以在本视频上方和下方的链接中找到的代码示例。那么，让我们首先来定义一下什么是代理框架。这些是能让任何构建人工智能代理的人对任务管理有更多控制权的工具。因为正如在第一课中提到的，代理专注于完成任务（我们将在多智能体章节中更多地讨论这一点）。但对于某些用例，我们需要多个代理处理一组任务，而代理框架帮助我们决定由哪个代理来完成该任务。还有上下文理解，代理需要了解上下文和环境状态的信息。例如，如果一个代理要预订酒店房间，它需要知道有可预订的酒店房间。所以代理框架使我们能够更好地管理这种上下文。还有代理协作，这些代理如何共同完成任务取决于我们的定义，而代理框架让我们能够更有效地做到这一点。它们创建空间并使用协议，以便代理之间能够相互通信。这些框架还配备了工具或连接，使我们能够观察和评估代理的性能。那么你应该选择哪一个呢？市面上有很多代理框架，在本课程中，我们重点介绍了三种不同的代理框架和服务，这样你就能更好地了解它们的工作原理。第一个是Azure AI代理服务，目前它仅设计用于单个代理，可通过代码和用户界面使用，并且它能很好地与你可能已经在使用的现有Azure服务和功能集成。我们还使用了两种不同的代理框架，语义内核（Semantic Kernel）和Autogen。这两个框架都可以利用使用Azure AI代理服务构建的代理，以及其他服务，比如GitHub模型，在本节课中我们有相关的代码示例。一方面，语义内核是一个面向企业的框架，其背后的团队非常注重为在生产环境中构建人工智能代理的团队提供良好的开发者体验。它支持C#、Java和Python，并且有各种与其他模型服务的不同连接器。我们还有Autogen，它源于微软研究院的团队，非常注重采用最新的智能体研究成果，并使其他研究人员和开发人员能够通过代码测试和实验这些想法。一如既往，最好的建议是从小处着手，通过像Azure AI代理服务这样的工具使用单个代理，然后当你让一个代理运行起来后，你可以根据是在为生产环境构建还是只是用Autogen探索最新的智能体研究，使用语义内核或Autogen这样支持多智能体的框架将它们组合起来。在书面课程中，我们有更多关于如何决定哪个工具适合你的信息。顺便说一下，虽然听别人讲解这些内容会有帮助，但实际动手操作是更好地理解这些工具如何工作的最佳方式。所以，让我们进入代码编辑器来操作吧。

现在我们回到了代码编辑器，我们有三个不同的示例，分别使用语义内核、Autogen和Azure AI代理服务。如前所述，你可以在视频上方和下方的链接中找到这些代码，以便自己运行。我们将从语义内核的示例开始。这是我们在上一课中已经运行过的类似内容，在这里我们能够定义不同的插件。在这个例子中，我们有这个 “目的地插件”，它有一个不同目的地的列表，当用户请求规划旅行时，它可以返回一个随机的目的地。同样，我们使用聊天完成代理（chat completion agent）和内核来定义那个代理。所以我们添加的所有内容，所有的服务和工具，我们有一些指令，然后是任何其他需要的附加设置。基本上，我们往下看，可以看到用户正在计划一日游，我们还可以看到它实际上正在调用那个函数，即 “获取随机目的地”，然后得到结果是纽约，然后代理继续进行，从那个函数获取信息并为纽约制定一个计划，听起来像是一次不错的旅行。在Autogen方面，设置类似。在这种情况下，我们将创建一个客户端，它是其背后模型的检查完成部分。我们还可以进行一些不同的设置，比如JSON输出，当我们谈到在系统的不同部分使用不同函数时，这是非常重要的。然后我们可以以一种方式定义代理，包括代理的名称、我们刚刚定义的模型客户端，这里我们没有任何工具，但这正是Autogen允许我们定义任何自定义工具的地方。最后是系统消息，这类似于语义内核中代理的指令。在这种情况下，我们只是要求一个很棒的阳光明媚的假期，所以在这里给代理提供了更多关于我们想要的假期类型的细节。然后我们看到交互过程，代理或助手回来给出了一个计划，是去毛伊岛的7天旅行，听起来很不错。最后，我们来看看Azure AI代理服务。同样，如果这是你第一次看到这个服务，我们有一个设置视频，它实际上会向你展示如何设置这些连接字符串，因为这就是我们通过在Azure AI Foundry中创建的项目来使用这个代理的方式。Azure AI代理服务的设置有点不同。在这种情况下，我们将在运行时创建一个代理，就与用户的交互而言，我们将创建一个线程，线程基本上是在用户和代理之间收集消息的设置。在这种情况下，我们将从用户的交互开始，用户要求一个关于不同旅行者数量和目的地的条形图。我们关注这个的能力方面在于，Azure AI代理服务内置了不同的工具，在这种情况下，我们有代码解释器工具，这允许代理生成一些代码，在这种情况下，它将生成一些Python代码来实际生成条形图。我们看到这个线程，然后有运行状态，这实际上是代理开始运行不同工具后的交互，然后我们可以看到它实际上创建了一个图像，然后我们甚至可以在这里下面显示那个带有目的地数量和旅行者数量的条形图。所以去看看代码示例，尝试不同的设置，就像我说的，我们将在本课程中运行不同的示例，这样你就能真正看到我们在本课程中提供的不同服务和框架之间的差异。下节课见。

### 要点总结
1. **课程概述**：这是人工智能代理初学者课程的第二课，介绍构建人工智能代理的基础知识，视频有配套书面课程、翻译和代码示例。
2. **代理框架的定义与作用**：
    - 是用于任务管理的工具，可决定由哪个代理完成任务。
    - 帮助代理理解上下文，如预订酒店需知道有可预订房间。
    - 支持代理协作，创建通信空间和协议。
    - 提供工具和连接以观察和评估代理性能。
3. **介绍的代理框架和服务**：
    - **Azure AI代理服务**：用于单个代理，可通过代码和UI使用，能与现有Azure服务集成。
    - **语义内核（Semantic Kernel）**：面向企业，注重开发者体验，支持C#、Java和Python，有多种连接器。
    - **Autogen**：源于微软研究院，采用最新智能体研究成果，供研究人员和开发者测试和实验想法。
4. **使用建议**：先从Azure AI代理服务的单个代理入手，再根据需求选择语义内核或Autogen进行多代理组合。
5. **代码示例**：
    - **语义内核**：以 “目的地插件” 为例，用户请求一日游，代理调用函数返回纽约并制定计划。
    - **Autogen**：创建客户端和代理，设置系统消息请求阳光假期，代理给出毛伊岛7天旅行计划。
    - **Azure AI代理服务**：创建线程，用户请求条形图，代理利用代码解释器工具生成Python代码创建并显示条形图图像。
    - 
