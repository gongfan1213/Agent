|一本书读懂AI Agent:技术、应用与商业|
# 方向10：具身智能

具身智能（Embodied Intelligence）涉及机器人或Agent通过感知、理解及交互来适应并执行任务的能力。这种Agent与传统AI不同，它强调感知与行动的结合，使Agent能更深入地理解环境并与之互动。AI系统通过与环境的互动获取知识和经验，而AI Agent作为具身智能系统的一种形式，能够理解并响应用户需求，提供定制化服务。AI Agent与具身智能的结合推动了LLM的实际应用，主要体现在以下几个方面：
- 提升综合能力：具身智能补充了LLM的感知与行动能力，使其能更好地理解环境、做出决策并执行动作。
- 实时决策与执行：LLM的计算任务由云端AI Agent处理，而感知和执行任务则由具身智能完成，实现快速反应。 
- 个性化服务：LLM学习用户数据和行为模式，提供个性化服务，具身智能则将这些服务扩展到物理世界。 
- 安全与隐私保护：具身智能允许在本地处理敏感数据，仅将必要信息发送至云端AI Agent，增强了安全性和隐私保护。

具身智能不限于机器人领域，它在自动驾驶汽车和无人机等技术中也发挥着重要作用。例如，自动驾驶汽车利用具身智能进行道路感知和安全驾驶决策，无人机则通过具身智能进行空中环境感知和精确飞行任务。OpenAI等公司正在积极探索具身智能，通过投资如IX Technologies这样的人形机器人公司，推动LLM与具身智能的融合。具身智能被认为是通往AGI的重要途径，目前有关它的研究已经有了很多突破性进展，比如AI科学家李飞飞团队的VoxPoser系统。

北京航空航天大学智能无人机组也提出了一种基于多模态LLM的具身智能架构，即“Agent as Cerebrum, Controller as Cerebellum”（Agent即大脑，控制器即小脑）的控制架构。该架构将Agent作为大脑这一决策生成器，专注于生成高层级的行为；控制器作为小脑这一运动控制器，专注于将高层级的行为（如期望目标点）转换成低层级的系统命令（如旋翼转速）。该具身智能架构如图3-5所示。

# 方向11：Agent社会
Agent社会（Agent Society）是计算机科学中的一个概念，它描述了一个由多个AI Agent组成的复杂系统，这些Agent能够模拟人类的行动、决策和社交互动。自2018年被正式提出以来，Agent社会已成为AI领域的一个重要分支，特别是在LLM的辅助下，这些Agent能够在模拟环境中进行高度复杂的交互。

![image](https://github.com/user-attachments/assets/2c68a007-963a-4c1e-bb0c-381876ce216a)


图3-5 “Agent即大脑，控制器即小脑”架构

（图片来源：论文“Agent as Cerebrum, Controller as Cerebellum: Implementing an Embodied LMM - based Agent on Drones”）

Agent社会代表了AI Agent发展的高级阶段，它是一个动态、自组织、自适应、协作和竞争的系统，能够根据环境变化和自身目标执行复杂的任务。这些Agent的互动和协作不仅模拟了人类社会的行为，还为我们提供了研究AI社交互动的重要平台，帮助我们理解AI如何在社会环境中工作，如何协助政策制定和道德考量。

Agent社会的应用范围广泛，涵盖了人工智能实体（AI Entity）、虚拟社区（Virtual Community）和分布式系统（Distributed System）等。这些系统能够根据自身目标和环境变化执行灵活的任务，并与人类及其他Agent进行高级别的互动和协作。Agent社会不仅增强了人类探索物理和虚拟世界的能力，还扩展了人类的体验和能力，成为创造和享受新奇事物的重要途径。

在Agent社会的构建中，通信协议、协作机制、竞争机制和进化机制是关键的技术基础。通信协议确保了Agent间的有效信息交换和协作；协作机制通过契约和市场机制实现任务分配和协同工作；竞争机制通过评价和激励促进Agent间健康竞争；进化机制则通过遗传和自组织等方法推动Agent的适应性和创新。

Agent社会的概念也反映了人们对模拟社会的兴趣，从《模拟人生》等沙盒游戏到元宇宙（Metaverse）概念，都展示了模拟社会的定义：一个由环境和互动个体组成的系统。在这些模拟中，每个个体可以是一个程序、一个真实人类，或是一个基于LLM的AI Agent，它们之间的互动是社会性产生的关键。图3-6为Agent社会模拟演示图，展示了Agent社会的运行模式。

![image](https://github.com/user-attachments/assets/916e76d9-31c9-4160-a09a-82cc7c1dd987)


图3-6 Agent社会模拟演示图

（图片来源：论文“The Rise and Potential of Large Language Model Based Agents: A Survey”）

Agent社会的构建是AI技术发展的一个重要方向，它不仅模拟了社会互动，还为人类社会的发展贡献了新的可能性。随着技术的不断进步，Agent社会预计将在未来发挥更加重要的作用。突破多Agent的发展困境，是未来Agent社会建立的重要前提，多Agent协同可以组成Agent社会这一最高形态的技术社会系统。



# 方向12：Agent网络

AI Agent网络是由多个AI Agent构成的系统，这些Agent通过协作、信息交流和资源共享来达成共同目标或任务。AI Agent是能够感知环境、做出决策和执行动作的智能实体，它们基于机器学习和AI技术，具有自主性和适应性，能在特定任务或领域中自主学习和改进。

AI Agent网络通过通信协议连接各个Agent，形成一个复杂的交互网络。这些Agent可能基于LLM，具备自然语言理解和生成能力，能够无缝协作和竞争。Agent网络在自动驾驶、游戏、客户服务、数据分析等多个领域有广泛应用。 

Agent网络的核心动力是LLM技术，它通过增加规划、记忆和工具使用等关键组件，使Agent能更主动地与用户交互，根据需求执行任务。

Agent网络的分布式架构允许Agent在不同节点执行任务，提高系统并行处理能力和鲁棒性。异构互操作性通过通用通信协议和接口规范，实现不同Agent间的协作。协同与服务组合通过Agent间的通信和协商，提升任务执行效率。自适应与动态演化使Agent能根据环境变化动态调整，保持系统稳定性。大规模并行计算通过分解任务到多个Agent，提升计算效率。群体智能涌现通过Agent间的交互协同，产生超越个体的智能。分布式学习与知识进化通过知识交换和经验分享，提升整个群体的智能水平。 

Agent网络在智慧城市、工业互联网、智能交通、电子商务等领域有广阔应用前景。在智慧城市中，Agent网络负责交通调度、能源管理和安全监控，提升城市运行效率。在工业互联网中，Agent网络分布在设备、生产线、车间，实现智能制造和柔性生产。在无人驾驶领域，车辆、道路、信号灯等作为智能Agent，通过通信协同提高交通效率和安全性。

当前，Agent网络的研究与应用还处于起步阶段，仍面临Agent交互语言、知识共享机制、安全隐私保护、效率优化等诸多挑战。未来，随着5G、区块链、边缘计算等新技术的发展，以及多Agent协同理论、群体智能方法的突破，Agent网络有望成为人工智能开放生态和普惠应用的重要载体，推动分布式智能服务在各行各业的深入应用，构建万物互联、人机协同的智能世界。


# 3.2 AI Agent的研究成果与典型案例
随着AI技术的飞速发展，AI Agent已成为当今研究的热点领域。关于AI Agent的构建、应用及评估方面的研究，都已取得了一定的进展，并且关于Agent的认知等综述也更加全面和具体。这一节将深入探讨AI Agent的研究成果，以让大家了解AI Agent研究的最新进展，并通过一些典型案例，展现基于LLM的AI Agent的项目特性与应用价值。

## 3.2.1 AI Agent的研究成果

从论文来看，目前关于AI Agent的研究主要集中在Agent的构建、应用与评估方面，另外还有Agent的相关综述，以及Agent应用方向的相关研究。

下面简单介绍一些比较有代表性的论文。

### 1. AI Agent综述

(1)“A Survey on Large Language Model - based Autonomous Agents”

简述：该论文首先讨论了LLM驱动自主Agent的构建，其中，作者提出了一个统一的框架，概括了大多数已有的工作。然后，全面概述了LLM驱动自主Agent在社会科学、自然科学和工程学领域的广泛应用。最后，深入探讨了LLM驱动自主Agent常用的评估策略。在前人研究的基础上，作者同时提出了该领域的几个挑战和未来方向。

(2)“The Rise and Potential of Large Language Model Based Agents: A Survey”

简述：该论文首先阐述了Agent从哲学起源到在人工智能领域的发展，以及LLM作为Agent基础的合理性。在此基础上，提出了一个通用的包含大脑、感知和行动模块的Agent框架，可应用于不同任务。接着探讨了Agent在单Agent、多Agent和人机协作等方面的广泛应用。此外，还讨论了Agent社会中的行为、个性、社会现象等，以及对人类社会的启示。最后，讨论了该领域的关键问题和未来方向。 

(3)“Agent AI: Surveying the Horizons of Multimodal Interaction”

简述：该论文由斯坦福、微软、加州大学洛杉矶分校和华盛顿大学共同发表。多模态AI系统将在日常生活中发挥重要作用。一个有前景的方法是让这些系统在物理和虚拟环境中作为Agent进行互动。为了加速基于Agent的多模态智能的研究，研究者们定义AI Agent为一种交互系统，它能够感知视觉刺激、语言输入和其他环境数据，并生成具有意义的实体行动。

这是一个AI Agent系统在不同领域应用的概述。AI Agent已成为实现AGI的希望之路。AI Agent训练已经展示了在物理世界中进行多模态理解的能力。通过利用生成式AI和多个独立数据源，它提供了一个与现实无关的训练框架。大型基础模型针对Agent和行动相关任务进行训练，可以应用于物理和虚拟世界，并在跨现实数据上进行训练。

### 2. AI Agent构建

使用AI Agent的第一步是构建一个能够稳定运行的Agent，这是研究与应用Agent的基础。基于LLM的AI Agent的构建类研究论文数量越来越多，已经超过20篇，并且很多论文是伴随相关项目而生的，如很多Agent构建框架及相关技术的配套论文。下面来看几篇有代表性的研究论文。 

(1)“CAMEL: Communicative Agents for ‘Mind’ Exploration of Large Scale Language Model Society”

简述：为了实现自主合作，该论文的作者提出了一个称为角色扮演的新颖交流型Agent框架。该方法涉及使用开端提示来引导聊天Agent完成任务，并与人类意图的一致性。论文展示了如何使用角色扮演生成对话数据，以研究聊天Agent的行为和能力，为调查对话语言模型提供了宝贵的资源。

(2)“Agent Instructs Large Language Models to be General Zero - Shot Reasoners”

简述：该论文提出通过让一个专门设计的指导Agent与LLM进行互动，来指导并增强这些模型在零样本条件下的通用语言理解和推理能力。在多个数据集上的评估表明，这种方法可以推广到大多数任务，并取得了最顶尖（SOTA）的零样本性能。 

(3)“Reflexion: Language Agents with Verbal Reinforcement Learning”

简述：这篇论文提出了一种名为Reflexion的新框架，通过语言反馈而不是权重更新来增强语言Agent，Agent会对任务反馈进行口头反思并记录在记忆中，以诱导后续试验中的更好决策。该框架在各种任务上取得明显优于基准的效果，为语言Agent提供了一种快速高效的试错学习机制。

关于AI Agent构建的更多论文，可以参考本书配套资源库。

### 3. AI Agent应用

各领域都在积极探索Agent的快速应用，基于LLM的AI Agent的应用类研究论文发布速度很快，数量已经接近30篇。同样，很多论文是Agent应用项目的伴生品，这些论文可以从理论到实践，指导创业者与企业构建其所在领域的Agent产品及解决方案。

这里介绍几篇有代表性的AI Agent应用类研究论文。 

(1)“WebArena: A Realistic Web Environment for Building Autonomous Agents”


简述：该论文构建了一个高度真实且可重现的网站环境，包含电商、社交、协作开发和内容管理四个常见领域，并设计了一系列模拟人类日常互联网使用的基准任务，用来评估自主Agent完成复杂语言命令的能力。这个实验集成了推理后行动等最新技术的Agent模型，结果显示，基于GPT - 4的语言模型在这个真实场景中的端到端任务成功率仅有10.59%，完成复杂任务仍面临巨大挑战。 

(2)“3D - LLM: Injecting the 3D World into Large Language Models”

简述：该论文提出了一种将三维世界知识注入LLM的方法，构建了一种全新的三维语言模型——3D - LLM。这种模型可以接受三维点云及其特征作为输入，并执行与三维相关的各种任务，如三维字幕、三维问答、三维定位等。该研究设计了三种提示机制，收集了丰富的三维 - 语言训练数据，并利用多视图渲染的三维特征提取器和二维视觉语言模型作为骨干网络进行模型训练。 

(3)“InterAct: Exploring the Potentials of ChatGPT as a Cooperative Agent”

简述：该论文深入探讨了OpenAI的ChatGPT与具身Agent系统的集成，评估了其对交互式决策基准的影响。同时参考了人们根据自己的独特优势承担不同角色的概念，并提出了InterAct方法。在这种方法中，该论文作者通过各种提示来喂给ChatGPT，分配给它检查员和分类员等多个角色，然后将它们与原始语言模型集成。研究显示，该方法在AlfWorld中取得了98%的显著成功率。

关于AI Agent应用的更多论文，可以参考本书配套资源库。

### 4. AI Agent评估

基于LLM的AI Agent在独立运行、集体合作和人机交互等领域表现优秀，但对其进行量化评估和客观评价并不容易。图灵测试能够为AI Agent评估提供一种有意义且有前景的方法，用于评估人工智能系统是否能表现出类似人类的智能。只是这个测试过于模糊、宽泛和主观。在LLM的时代，需要发展新的AI Agent评估方法和体系。下面介绍两篇关于AI Agent评估的研究论文。 

(1)“Evaluating Cognitive Maps and Planning in Large Language Models with CogEval”

简述：该论文通过设计认知科学启发的CogEval评估方案，系统性评估了8个LLM的认知地图和规划能力。结果发现，这些模型在规划任务中存在明显的失败模式，表现出它们没有开箱即用的规划能力。这可能是因为不能理解规划问题背后的关系结构。 

(2)“On the Planning Abilities of Large Language Models”

简述：该论文通过设计基于规划竞赛的基准测试集，系统评估了LLM的自治规划、启发式规划和人机互动规划三种能力。结果显示，这些模型的自治规划能力非常有限，仅达到3%的成功率，启发式和人机互动模式略有提高。因此，LLM的规划能力仍需进一步提高。

为了方便大家系统学习，本书已把50多篇相关论文划分到综述、构建、应用、评估等几个版块，详情可以见本书配套资源库中的“AI Agent相关论文”部分。本书主要讨论AI Agent的构建与应用，关于其他领域（比如具身智能等）的论文，大家可以自行搜集。



## 3.2.2 AI Agent的典型案例

要更好地理解AI Agent，离不开拆解一定的案例。2.5节已经盘点了一些时下流行的项目，这里我们再以一些项目作为案例来介绍，其中包括之前没有详细介绍的Agent项目。
### 1. AutoGPT
AutoGPT是一个开源AI Agent开发框架，使用GPT - 3.5和GPT - 4来生成提示并执行任务。这个项目由Toran Bruce Richards开发，旨在通过提供一个开源的应用程序，展示AI Agent的潜力和能力。

AutoGPT利用了最新的语言模型技术，特别是GPT - 4，来理解和执行用户的各种指令。这个系统的核心在于强大的理解能力和任务自动化，它能够通过在训练过程中接触到的大量文本数据学习不同角色和目标的关联，以及它们的上下文信息。AutoGPT还采用了零样本学习，这使它能够处理在训练过程中未曾接触过的新任务，通过学习不同角色或目标类型之间的相似性来生成恰当的回答。


![image](https://github.com/user-attachments/assets/cba4f962-e836-424b-8813-dd239a009ee0)


图3-7 AutoGPT工作流程

在执行任务时，AutoGPT会生成方案，这些方案基于目标数据和任务执行返回的结果。它使用长期记忆和短期记忆来记忆关键信息，并通过向量存储和点乘的方式判断数据之间的相似性，从而选择最相关的信息作为输入，以生成新的提示。

技术上，AutoGPT基于Transformer模型，利用自监督学习、微调和迁移学习的方法进行训练，通过预测输入文本中缺失的部分或下一个词来提升对语言规律和语义的理解能力。此外，它还采用了自适应学习率和模型架构优化，以提高模型的性能和训练效率。

AutoGPT的应用非常广泛，不仅可以帮助用户自动化执行任务，如网页爬取，还能与各种应用程序和服务集成，提供个性化的建议和帮助。例如，它可以帮助程序员自动生成代码，帮助学生分析学习数据，帮助企业家管理日程和联系人。AutoGPT的可定制性和扩展性使其成为一个多功能的助手。

AutoGPT的出现标志着AI领域的一个重要进步，它代表了人工智能技术向更加自主和智能化方向发展的趋势。通过利用的GPT语言模型，AutoGPT实现了完全自主和可定制的AI Agent，为用户提供了一个全新的与LLM互动的方式。 

### 2. CAMEL

CAMEL是Communicative Agents for “Mind” Exploration of Large Scale Language Model Society的缩写，即用于探索LLM社会“心智”的交流Agent。

CAMEL开创了沟通式Agent的探索，提出了一个“角色扮演”（Role - Playing）的新型社会型多Agent框架。它通过多个Agent之间的对话和合作来完成分配的任务，Agent会被赋予不同的角色，并拥有相应角色的专业知识背景，从而利用其知识来找到完成共同任务的解决方案。该框架使用启示式提示（Inception Prompt）来引导聊天Agent完成任务，并与人类意图保持一致。完整的CAMEL角色扮演框架如图3-8所示。

![image](https://github.com/user-attachments/assets/69aa57ab-4f82-4ece-ba29-029a5c95abd5)


### CAMEL的实现主要分为角色扮演框架和启示式提示两部分。

 - **角色扮演框架**：CAMEL角色扮演框架专注于任务导向的角色扮演，它包含一个AI助理（AI Assistant）和一个AI用户（AI User）。在多Agent系统接收到人类用户的初步想法和角色分配后，任务指定Agent将提供详细的描述，使想法更加具体化。然后，AI助理和AI用户将通过多轮对话合作完成指定的任务，直到AI用户确定任务完成为止。 

 - **启示式提示**：在角色扮演的对话式Agent中，提示工程是一个非常重要的环节。在CAMEL框架中，提示工程主要用于任务规范和角色分配的初始阶段。一旦进入对话阶段，AI助理和AI用户将自动为对方生成提示，直到任务完成。这种技术被称为启示式提示。

启示式提示包括三个部分：任务指定提示、AI助理系统提示和AI用户系统提示。例如，在人工智能社会角色扮演（AI Society）场景的初始提示中，AI Society角色扮演的提示模板如图3-9所示。任务指定提示包含有关角色扮演会话中AI助理和AI用户角色的信息。任务规范Agent可以使用想象力将初步任务/想法作为输入，并生成具体任务。AI助理系统提示和AI用户系统提示基本对称，并包括有关分配的任务和角色、通信协议、终止条件以及避免不良行为的约束或要求的信息。对于实现智能协作，两个角色的提示设计至关重要。设计提示以确保Agent与人类的意图保持一致。通过这种方式，CAMEL框架能够实现高效、自动的角色扮演对话，帮助用户完成任务。 

### 3. ChatDev

ChatDev是由清华大学、北京邮电大学和布朗大学的研究者提出的一种创新的软件开发范式，该范式利用LLM在整个软件开发过程中实现了自然语言通信的简化和统一。这一范式的核心被称为CHATDEV，它基于经典的瀑布模型，并将软件开发过程划分为设计、编码、测试和文档四个阶段。ChatDev体验式共同学习的框架如图3-10所示。

每个阶段都有一个Agent团队，其中包括程序员、代码评审员和测试工程师等角色，它们通过协作对话和无缝工作流程来推进开发过程。聊天链在其中起到了促进作用，将每个阶段细分为原子任务。CHATDEV充分发挥了双重角色的优势，通过上下文感知的通信来提出和验证解决方案，从而高效地解决特定的子任务。 
图3
