![image](https://github.com/user-attachments/assets/400e4d75-521e-4860-a68d-1cc914e90288)


![image](https://github.com/user-attachments/assets/deeb9fc2-61dc-4a1e-b0ca-d5b006d0e4f1)


### 2.4.2 中国人民大学高瓴人工智能学院的AI Agent评估方法
此评估AI Agent的策略分为主观评估和客观评估。
#### （1）主观评估
基于LLM的AI Agent应用广泛，但在许多情况下，缺乏评估AI Agent性能的通用指标。一些潜在的特性，如AI Agent的智能性和用户友好性，也无法用定量指标衡量，因此主观评估在当前的研究中至关重要。主观评估是指人类通过互动、评分等多种方式对基于LLM的AI Agent的能力进行测试。测试人员通常通过众包平台招募，但众包人员存在个体差异、稳定性不足的问题，因此一些研究人员选择使用专家注释进行测试。主观评估常用到以下两种策略：
- **人工标注**：这是一种常用的评估方法。评估者根据特定标准对基于LLM的AI Agent生成的结果进行排名或评分。另一种评估类型以用户为中心，要求评估者回答AI Agent系统是否对他们有帮助、是否用户友好等问题。具体而言，社会模拟系统是否能有效促进在线社区的规则设计也是一项评估内容。
- **图灵测试**：在这种方法中，人类评估者需要区分AI Agent和人类行为。在生成式AI Agent研究中，评估者通过访谈评估AI Agent在五个领域的关键能力。在Free - form Partisan Text实验 中，评估者需要猜测反应是来自人类还是基于LLM的AI Agent。

由于基于LLM的AI Agent系统最终服务于人类，主观评估发挥着不可替代的作用。然而，主观评估存在成本高昂、效率低下和群体偏见等问题。随着LLM技术的进步，未来可以借助LLM进行评估任务，提高评估的准确性和效率。

需要说明的是，在目前的一些研究中，已经可以使用基于LLM的AI Agent作为结果的主观评估者。比如在ChemCrow中，EvaluatorGPT通过评分来评估实验结果，评分既考虑了任务的成功完成，也考虑了潜在思维过程的准确性。ChatEval则基于LLM组建了一个由多个AI Agent裁判组成的小组，通过辩论评估模型产生的结果。随着LLM的进展，模型评估的结果将更加可信，应用将更加广泛。

#### （2）客观评估

客观评估是采用定量指标来评估基于LLM的AI Agent的能力。这些定量指标能够随时间进行计算、比较和追踪。与主观或人工评估相比，客观评估能够提供关于AI Agent性能的明确、可衡量的见解。客观评估包括指标、策略和基准三部分。
- **指标**：为了客观评估AI Agent的有效性，设计适当的指标具有重要意义，这可能会影响评估的准确性和全面性。理想的评估指标应该准确地反映AI Agent的质量，并在现实世界场景中使用时与人类的感受保持一致。在现有的工作中，我们可以看到以下具有代表性的评估指标：
    - **任务成功度量**：这些度量用于衡量AI Agent完成和实现目标的能力。常见的指标包括成功率、奖励/得分、覆盖率和准确性。这些值越高，表示任务完成能力越强。
    - **人类相似性度量**：这些度量用于量化AI Agent行为与人类行为的相似程度。典型的例子包括轨迹/位置准确性、对话相似性和模仿人类反应。相似性越高，表示推理越像人。
    - **效率指标**：这些指标与用于评估AI Agent有效性的其他指标不同，它们从不同角度评估AI Agent的效率。典型的指标包括规划长度、开发成本、推理速度和澄清对话的数量。
- **策略**：基于用于评估的方法，我们可以确定几种常见的策略：
    - **环境模拟**：在游戏和互动小说等沉浸式3D环境中，使用任务成功和人类相似性指标评估AI Agent。这展示了AI Agent在现实世界场景中的实践能力。
    - **独立推理**：通过有限任务，如准确性、通道完成率和消融测量，专注于基本认知能力。这种方法简化了对个人技能的分析。
    - **社会评价**：直接探究社会智力，使用人类研究和模仿指标评估更高层次的社会认知。
    - **多任务**：使用来自不同领域的各种任务套件，进行Zero - shot/Few - shot评估 ，衡量可推广性。
    - **软件测试**：探索LLM在软件测试任务中的使用，如生成测试用例、复现错误、调试代码等。使用测试覆盖率、错误检测率、代码质量和推理能力等指标衡量基于LLM的AI Agent的有效性。
- **基准**：除了指标外，客观评估还依赖于基准、受控实验和统计显著性测试。许多论文使用任务和环境的数据集构建基准，以系统地测试AI Agent，如ALFWorld、IGLU和Minecraft。

总之，客观评估能够通过任务成功率、人类相似性、效率和消融研究等指标对基于LLM的AI Agent能力进行定量评估。从环境模拟到社会评价，针对不同的能力，出现了一套多样化的客观技术工具箱。目前的技术在衡量一般能力方面存在局限性，但客观评估提供了补充主观评估的关键见解。客观评估基准和方法的持续进展将进一步推动基于LLM的AI Agent的开发和理解。

客观评估相比于主观评估有以下好处：量化指标可以在不同方法之间进行清晰的比较，并跟踪一段时间内的进展情况；大规模自动化测试是可行的，允许对数千项任务进行评估，而不是对少数任务进行评估，当然结果也更加客观和可重复。但主观评估可以评估难以客观量化的互补性能力，如自然性、细微差别和社会智力，因此这两种方法可以结合使用。

![image](https://github.com/user-attachments/assets/d98c82ad-5a00-4969-877b-fc15b727b840)


### 2.5 流行的AI Agent项目与构建框架
在AI Agent的构建上，开发人员为解决可靠性、标准化、数据安全等问题而选择的范式各不相同。目前的Agent要么建立在现有工具之上，要么创建自己的内部解决方案，要么采用一些专门为Agent构建的产品，其中许多仍处于早期阶段或alpha/beta版本。一些开发人员为传统软件中AI Agent问题的等效问题提供了解决方案，比如：
- **用于Agent编排和调试的Ingnest**；
- **用于可观测性的Sentry**；
- **用于数据集集成的LlamaIndex**。

传统的软件解决方案仍然无法应对LLM性质所带来的特定于AI Agent的挑战。一个例子是调试Agent，它本质上是在处理提示，并且缺少与实时调试等效的Agent。更多开发人员在构建Agent时，尝试使用新的框架和SDK来重新发明轮子，而不是在现有技术之上进行构建。因此，现在的一些技术厂商完全摒弃传统软件构建Agent的逻辑，要么正在构建完全自定义的基础设施，要么尝试使用适应其智能体构建的最新技术。

其中一种理念是，多Agent系统的基础设施补充应该是面向Agent的Agent专有云，如Agent云服务公司E2B为Agent及AI应用程序构建的AI playground、沙盒云环境。这些环境对于Agent的编程案例很有用。还有更多为AI Agent或LLM应用程序量身定制的项目，最常见的是用于构建、监控和分析的框架。

关于AI Agent框架、SDK及构建库的相关内容，本书会在第四部分与大家详细探讨。

#### 2.5.1 流行的AI Agent项目

下面这些项目是自2023年至今曝光率比较高的项目。

1. **NVIDIA Voyager**：


由NVIDIA、加州理工学院等共同推出的Voyager，使用GPT - 4来引导学习的Minecraft Agent通过像素世界。需要说明的是，Voyager依赖于代码生成，而不是强化学习。Voyager是第一个玩Minecraft（游戏《我的世界》）的终身学习Agent。图2 - 19展示了Voyager作为AI Agent在游戏中的能力和优势。

与其他使用经典强化学习技术的Minecraft Agent不同，Voyager使用GPT - 4来不断改进自己，通过编写、改进和传输存储在外部技能库中的代码来实现这一点。这会产生一些小型的程序，帮助导航、开门、挖掘资源、制作镐头或与僵尸作战。GPT - 4解锁了一种新的范式，在此范式中“训练”是代码的执行，“训练模型”是Voyager迭代组装的技能代码库。

2. **RoboAgent**：Meta和卡耐基梅隆大学联合研究团队耗时两年，成功开发出RoboAgent通用机器人Agent。RoboAgent仅仅通过7500个轨迹的训练就实现了12种不同的复杂技能，包括烘焙、拾取物品、上茶、清洁厨房等，并能在100种未知场景中泛化应用。无论遇到多大的干扰，RoboAgent都能坚持完成任务。该研究的目标是建立一个高效的机器人学习范例，解决数据集和场景多样性的挑战。研究人员提出了多任务动作分块Transformer（MT - ACT）架构，通过语义增强和高效的策略表示来处理多模态多任务机器人数据集。

3. **HyperWrite**：HyperWrite是一款基于人工智能的写作辅助工具，旨在帮助各个层次的创意作家提升写作速度与自信心。它具备自动写作和预输入等实用功能，能够生成原创段落，并为作家提供克服创作障碍的灵感。作为一款免费的Chrome浏览器扩展程序，HyperWrite可以在任何网站上无缝使用。

![image](https://github.com/user-attachments/assets/8377cbe3-39ae-40a8-ab8f-9b17f5c58690)


4. **GPT Researcher**：GPT Researcher是一个基于AI的自主Agent，用于对各种任务进行全面的在线研究。该工具受到AutoGPT和“计划和解决”提示的启发，旨在改进当前语言模型中发现的速度和确定性问题，通过并行Agent工作提供更稳定的性能和更快的速度，而不是同步操作。根据其开发团队的说法，GPT Researcher通过生成相关的研究问题、汇总来自20多个网络资源的数据以及利用GPT3.5 - turbo - 16和GPT - 4创建全面的研究报告来促进研究。


5. **Smallville小镇**：这个项目来自斯坦福大学和谷歌的研究人员创建的一个交互式沙盒环境，其中包含25个可以模拟人类行为的生成式Agent。“他们”在公园里散步，在咖啡馆喝咖啡，并与同事分享新闻，表现出令人惊讶的良好社交行为。比如，从一个用户指定的一个概念开始，即一个Agent想要举办情人节派对，Agent在接下来的两天内自动传播派对邀请，结识新朋友，互相约对方参加约会派对，并协调在正确的时间一起出现在派对上。图2 - 20展示了某个生成式Agent的生活场景。

![image](https://github.com/user-attachments/assets/d62e04c6-da3f-4a0d-a217-ac5a8cef163f)


关于生成式Agent，我们还会在第3章详细介绍。

除了这几个案例，国外还有Inflection Pi、Spell、Aomni、synthflow.ai等产品颇受关注。在国内，字节跳动Coze、百度文心智能体平台、钉钉AI助理、飞书智能伙伴、天工SkyAgents、实在Agent、澜码科技AskXBot等AI Agent构建平台也早已声名鹊起。

#### 2.5.2 流行的AI Agent构建框架

为了让大家熟悉AI Agent，这里简要介绍一些目前主流的构建框架。

1. **AutoGPT**：AutoGPT是GitHub上的一个免费开源项目，结合了GPT - 4和GPT - 3.5技术，通过API创建完整的项目。其主要功能是将大型任务分解为子任务，并自动执行，无须用户手动输入。这些子任务按照顺序串联起来，最终生成用户期望的完整结果。AutoGPT的突出特点之一是它能够连接互联网，实时获取最新信息以辅助任务的完成。

AutoGPT具备短期记忆功能，能够为后续子任务提供必要的上下文信息，确保任务之间的连贯性和完整性。同时，AutoGPT还具备文件存储和整理功能，使用户能够方便地整理和分析数据，以便进一步扩展和应用。它还支持多模态输入，即同时接收文本和图像作为输入源。这一功能使得AutoGPT在自动化工作流程、数据分析以及新建议的提出等方面具有显著优势。


关于AutoGPT的详细介绍，可以参考第3章的AI Agent典型案例。
2. **LangChain**：LangChain是一个强大的框架，旨在帮助开发人员使用语言模型构建端到端的应用程序，包括AI Agent。它提供了一套工具、组件和接口，可简化创建由LLM和聊天模型提供支持的应用程序的过程。LangChain可以轻松管理与语言模型的交互，将多个组件连接在一起，并集成额外的资源，例如API和数据库。该框架由几个部分组成，如图2 - 21所示。

    - **LangChain库**：Python和JavaScript库。包含无数组件的接口和集成，将这些组件组合成链和Agent的基本运行时，以及链和Agent的现成实现。
    - **LangChain模板**：用于各种任务的易于部署的参考架构集合。
    - **LangServe**：用于将LangChain链部署为REST API的库。
    - **LangSmith**：一个开发者平台，可让用户调试、测试、评估和监控基于任何LLM框架构建的链，并与LangChain无缝集成。

这些产品共同简化了整个应用程序生命周期：
    - **开发**：用LangChain/LangChain.js编写应用程序。使用模板作为参考。
    - **生产化**：使用LangSmith检查、测试和监控用户构建的链，以便用户不断改进和部署。
    - **部署**：使用LangServe将任何链变成API。

![image](https://github.com/user-attachments/assets/e1bc3c90-bbec-46ae-ac1b-00c3b4984e8f)


LangChain旨在在以下六个主要方面为开发人员提供支持：
    - **LLM和提示**：LangChain使管理提示、优化它们以及为所有LLM创建通用界面变得容易。此外，它还包括一些用于处理LLM的便捷实用程序。
    - **链**：这些是对LLM或其他实用程序的调用序列。LangChain为链提供标准接口，与各种工具集成，为流行应用提供端到端的链。
    - **数据增强生成**：LangChain使链能够与外部数据源交互以收集生成步骤的数据。例如，它可以帮助总结长文本或使用特定数据源回答问题。
    - **Agent**：Agent让LLM做出有关行动的决定，采取这些行动，检查结果，并继续前进直到工作完成。LangChain提供了Agent的标准接口，多种Agent可供选择，并提供一个端到端的Agent示例。
    - **内存**：LangChain有一个标准的内存接口，有助于维护链或Agent调用之间的状态。它还提供了一系列内存实现和使用内存的链或Agent的示例。
    - **评估**：很难用传统指标评估生成模型，因此LangChain提供提示和链来帮助开发者自己使用LLM评估他们的模型。
3. **MetaGPT**：MetaGPT是一个能够协作完成复杂任务的多Agent框架，它通过将包含现实世界专业知识的SOP（标准操作程序）编码到基于LLM的AI Agent中来扩展复杂问题的解决能力。实验表明，与现有方法相比，它可以生成更一致、更全面的解决方案。它接收单行需求作为输入，并能输出用户故事、竞争分析、需求文档、数据结构、API设计以及相关文档等全面的内容。在MetaGPT的内部结构中，融合了产品经理、架构师、项目经理和工程师等多重角色，从而实现了软件公司全流程的覆盖，并提供了经过精心编排的SOP，以高效推动项目的进展。
MetaGPT的设计分为两层，即基础组件层和协作层，每一层都负责支持系统功能。其中，基础组件层详细定义了单个Agent运行和整个系统信息交流所需的核心构件，包括环境、记忆、角色、行动和工具，并开发了协同工作所需的基本功能。
    - **环境**：为代理提供协作工作空间和交流平台。
    - **记忆**：便于Agent存储与检索过去的信息和情境。
    - **角色**：根据领域专长封装专业技能、行为和工作流程。
    - **行动**：Agent为完成子任务和产生输出而采取的步骤。
    - **工具**：可用于增强Agent能力的实用程序和服务的集合。


MetaGPT框架会为各种角色（如产品经理和建筑师）生成Agent，这些Agent通过特定角色设置进行初始化。MetaGPT框架提供的角色配置允许各方为特定领域和目的创建高度专业化的基于LLM的AI Agent。MetaGPT模拟软件公司多角色运行原理如图2 - 22所示。

![image](https://github.com/user-attachments/assets/31d6d6af-c7a6-4c4f-9367-32cfa6e2a716)


4. **AutoGen**：AutoGen是一款由微软、宾夕法尼亚州立大学以及华盛顿大学联合研发的支持多Agent交互的框架，这些Agent能够相互沟通以共同完成任务。

AutoGen能够助力基于多Agent的下一代LLM应用对话构建，实现流畅自然的交互。它精简了复杂LLM工作流的编排、自动化及优化流程，从而显著提升LLM的性能并有效弥补其不足。同时支持多样化的对话模式和复杂工作流。通过可自定义和交互式的Agent，开发人员能够利用AutoGen构建出包括会话自治、灵活座席数量及座席会话拓扑在内的广泛对话场景。AutoGen框架如图2 - 23所示。

![image](https://github.com/user-attachments/assets/ab9520c4-b0ce-4b65-9094-abba9e3073de)



使用AutoGen，开发人员能够灵活定义Agent的交互行为，通过自然语言或计算机代码为各类应用编程，实现多样化的对话模式。AutoGen作为一个通用框架，可轻松构建具有不同复杂性和LLM能力的多种应用。其核心设计理念是通过多Agent对话来简化与整合复杂的工作流程，旨在最大限度地提升已实施Agent的可重用性。这使开发人员能够以最小的投入构建基于多Agent对话的下一代LLM应用程序，简化复杂LLM工作流程的编排、自动化和优化，并显著提升LLM的性能，克服其潜在弱点。AutoGen支持复杂工作流程中的多样化对话模式。借助可定制和交互式的Agent，开发人员可构建涵盖对话自主权、Agent数量和Agent对话拓扑的广泛对话场景。同时，AutoGen提供了一套具备不同复杂性的工作系统，以满足各个领域和复杂度的应用需求，充分展示了其对不同对象的适应性。 

话模式的强大支持能力。

![image](https://github.com/user-attachments/assets/2d060789-9972-4aef-a197-1902bd2bdd40)



在应用方面，AutoGen 展示了多个引人入胜的演示案例，包括数学问题解决、检索增强代码生成与问答、文本世界环境中的决策制定、多 Agent 编程、动态群组聊天以及国际象棋对话等，充分展现了其在不同领域和场景中的广泛应用潜力。 

除了这 4 个案例，OpenAI Assistants API、BabyAGI、OpenGPTs、AgentGPT、HuggingGPT、OpenAgents、ChatDev、XAgent、Lagent、GenWorlds、Superagent、AxFlow、Fixie 等 AI Agent 构建框架也深受开发者的欢迎，已经在很多 AI 项目中得到应用。 

这里只是列举了目前较为流行的 AI Agent 相关项目，事实上 AI Agent 项目正在以更快的速度不断出现。对其他项目感兴趣的读者，可以在本书配套资源库 中查看更多开源与闭源 AI Agent 项目。 

☐ 访问地址: https://bfml88195p.feishu.cn/wiki/H7Ljw4l9GiIzuokCgOocYkN2nod。 
